<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Indian Trending Reels ‚Äì Taggable & Searchable</title>
  <meta name="description" content="Trending Indian reels & short videos ‚Äî tag based navigation and client-side tag pages." />
  <meta name="robots" content="index, follow" />
  <meta name="keywords" content="Indian reels, viral short video, desi reels, trending video, tag search" />

  <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon.png">

  <style>
    /* ---------- BASIC LAYOUT ---------- */
    body {
      font-family: "Noto Sans", "Noto Sans Devanagari", sans-serif;
      background: #f7f7f9;
      color: #111;
      margin: 0;
      padding: 18px;
      line-height: 1.6;
    }
    .container {
      max-width: 980px;
      margin: 0 auto;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.06);
    }

    header {
      display:flex;
      align-items:center;
      gap:12px;
      padding-bottom:12px;
      border-bottom: 1px solid #eee;
    }
    .logo { height:40px; }

    /* header-below paragraph (small) */
    .site-note {
      padding: 10px 14px;
      background: rgba(0,0,0,0.6);
      color: #fff;
      border-radius: 8px;
      text-align:center;
      margin: 14px 0;
    }

    /* TAG CLOUD / FILTER BAR */
    .tag-bar {
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin: 16px 0;
      align-items:center;
    }
    .tag-box {
      display:inline-block;
      padding: 8px 12px;
      border-radius: 20px;
      background:#e53935;
      color:#fff;
      text-decoration:none;
      font-size: 14px;
      border: 1px solid rgba(0,0,0,0.06);
      cursor:pointer;
    }
    .tag-box.small { font-size:13px; padding:6px 10px; }
    .tag-box:hover { opacity:0.92; transform: translateY(-1px); transition:0.12s; }

    .controls {
      margin-left: auto;
      display:flex;
      gap:8px;
      align-items:center;
    }
    .search-input {
      padding:8px 10px;
      border-radius:6px;
      border:1px solid #ddd;
      min-width:180px;
    }
    .search-btn {
      padding:8px 12px;
      border-radius:6px;
      border: none;
      background:#333;
      color:#fff;
      cursor:pointer;
    }

    /* HOME POSTS GRID */
    .home-posts {
      display:flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 8px;
    }
    .post {
      border: 1px solid #e53935;
      padding: 14px;
      border-radius: 6px;
      background:#fff;
    }

    /* H2 style: white text on red background block */
    .styled-h2 {
      display:inline-block;
      background: #e53935;
      color: #fff;
      padding: 8px 12px;
      border-radius: 4px;
      font-size: 20px;
      margin: 0 0 12px 0;
    }

    /* red-box (description) */
    .red-box {
      border: 1px solid red;
      padding: 12px;
      border-radius: 6px;
      margin-top: 8px;
      font-size: 15px;
      color: #111;
      background: rgba(229, 57, 53, 0.06);

      /* SAFE WRAP for long text */
      overflow-wrap: break-word;
      word-break: break-word;
      white-space: normal;
    }

    /* image box with play overlay */
    .img-box {
      position: relative;
      margin: 12px 0;
      border-radius:6px;
      overflow:hidden;
      border:1px solid #e53935;
      height: 420px;            /* placeholder height for responsiveness */
      display:flex;
      align-items:center;
      justify-content:center;
      background: #ddd;
    }
    .img-box img {
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
    }
    .play-btn {
      position:absolute;
      width:78px;
      height:78px;
      background: rgba(255,255,255,0.65);
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      transition: transform .18s, background .18s;
      z-index:2;
    }
    .play-btn::before{
      content: "";
      display:block;
      width:0;
      height:0;
      border-left: 20px solid #e53935;
      border-top: 12px solid transparent;
      border-bottom: 12px solid transparent;
    }
    .img-box:hover .play-btn { transform: scale(1.08); background: rgba(255,255,255,0.85); }

    /* small meta & tag list in post */
    .meta {
      margin-top:8px;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
    }
    .post-tag {
      display:inline-block;
      padding:6px 10px;
      background:#fff;
      border:1px solid #e0e0e0;
      border-radius:6px;
      font-size:13px;
      color:#e53935;
      text-decoration:none;
      cursor:pointer;
    }

    /* Search results header */
    .results-header {
      margin: 14px 0;
      font-weight:600;
    }

    /* Extra paragraph area at bottom */
    .extra-area {
      margin-top: 26px;
      padding: 16px;
      border: 1px dashed #bbb;
      border-radius:6px;
      background:#fafafa;

      /* wrapping safe */
      overflow-wrap: break-word;
      word-break: break-word;
      white-space: normal;
    }

    /* responsive tweaks */
    @media (max-width:700px){
      .img-box { height: 260px; }
      .container { padding: 14px; }
      .styled-h2 { font-size: 18px; }
      .tag-box { font-size: 13px; padding: 6px 10px; }
    }
  </style>
</head>
<body>

<div class="container">

  <!-- HEADER -->
  <header>
    <img src="assets/img/logo.png" class="logo" alt="Site Logo">
    <div style="flex:1"></div>
    <div class="controls" aria-hidden="false">
      <input id="globalSearch" class="search-input" placeholder="Search posts or tags..." aria-label="Search posts">
      <button id="searchBtn" class="search-btn">Search</button>
    </div>
  </header>

  <!-- small header note -->
  <p class="site-note">Enjoy the hottest <strong>Indian Reels</strong>, <strong>Trending Short Videos</strong> & <strong>Viral Clips</strong>.</p>

  <!-- TAG BAR (auto-filled by JS) -->
  <div id="tagBar" class="tag-bar" aria-live="polite">
    <!-- JS will inject tag boxes here -->
  </div>

  <!-- Results header (shows which tag/search is active) -->
  <div id="resultsHeader" class="results-header" style="display:none;"></div>

  <!-- MAIN POSTS -->
  <main>
    <section id="postsContainer" class="home-posts">

      <!-- POST 1 (example) -->
      <article class="post" data-tags="reels, trending, deshi">
        <h2 class="styled-h2">üî• Trending Reels Collection</h2>

        <div class="red-box">
          Watch top trending clips and short videos from creators across India.
        </div>

        <div class="img-box">
          <img src="assets/img/deshi1.jpg" alt="Trending Reels">
          <div class="play-btn" title="Play"></div>
        </div>

        <div class="meta">
          <a class="post-tag" data-tag="reels">#reels</a>
          <a class="post-tag" data-tag="trending">#trending</a>
          <a class="post-tag" data-tag="deshi">#deshi</a>
        </div>
      </article>

      <!-- POST 2 -->
      <article class="post" data-tags="entertainment, funny, viral">
        <h2 class="styled-h2">üíÉ Latest Entertainment Clips</h2>

        <div class="red-box">
          Enjoy fun and trending entertainment moments from around the country.
        </div>

        <div class="img-box">
          <img src="assets/img/deshi2.jpg" alt="Entertainment Clips">
          <div class="play-btn" title="Play"></div>
        </div>

        <div class="meta">
          <a class="post-tag" data-tag="entertainment">#entertainment</a>
          <a class="post-tag" data-tag="funny">#funny</a>
          <a class="post-tag" data-tag="viral">#viral</a>
        </div>
      </article>

      <!-- POST 3 -->
      <article class="post" data-tags="viral, reels, desi">
        <h2 class="styled-h2">üé¨ Viral Indian Reels</h2>

        <div class="red-box">
          Catch the hottest viral reels trending right now ‚Äî updated daily.
        </div>

        <div class="img-box">
          <img src="assets/img/deshi3.jpg" alt="Viral Reels">
          <div class="play-btn" title="Play"></div>
        </div>

        <div class="meta">
          <a class="post-tag" data-tag="viral">#viral</a>
          <a class="post-tag" data-tag="reels">#reels</a>
          <a class="post-tag" data-tag="desi">#desi</a>
        </div>
      </article>

      <!-- ADD MORE posts as needed, always include data-tags attribute (comma separated) -->
    </section>

    <!-- extra paragraph area (bottom) -->
    <div id="extraArea" class="extra-area" contenteditable="true" aria-label="Extra paragraph content">
      ‡§Ø‡§π‡§æ‡§Å ‡§Ü‡§™ ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§≤‡§Ç‡§¨‡§æ ‡§™‡•à‡§∞‡§æ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§≤‡§ø‡§ñ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‚Äî ‡§Ø‡§π ‡§¨‡•â‡§ï‡•ç‡§∏ ‡§Ö‡§™‡§®‡•á ‡§Ü‡§™ ‡§≤‡§Æ‡•ç‡§¨‡•á ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§ï‡•ã wrap ‡§ï‡§∞ ‡§≤‡•á‡§ó‡§æ ‡§î‡§∞ ‡§¨‡•â‡§∞‡•ç‡§°‡§∞ ‡§ï‡•á ‡§¨‡§æ‡§π‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§®‡§ø‡§ï‡§≤‡•á‡§ó‡§æ‡•§ ‡§Ü‡§™ ‡§ö‡§æ‡§π‡•á‡§Ç ‡§§‡•ã ‡§á‡§∏‡•á edit ‡§ï‡§∞ ‡§≤‡•á‡§Ç‡•§
    </div>

  </main>
</div>

<!-- ---------- JS: Tag system, filtering, search, deep-linking ---------- -->
<script>
/*
  Client-side Tag Page Generator & Search
  - Builds tag index from article[data-tags]
  - Supports hash routes:
      #/tag/<tagname>   -> shows only posts with that tag
      #/search?q=term    -> shows posts that match term (title/content/tags)
      #/all              -> shows all posts (default)
  - Clicking tag box updates hash and reflects state
  - Clicking post-tag inside post triggers the same behavior
*/

(function(){
  // helpers
  const $ = selector => document.querySelector(selector);
  const $$ = selector => Array.from(document.querySelectorAll(selector));
  const decodeHash = h => decodeURIComponent(h || '').trim();

  // DOM elements
  const tagBar = $('#tagBar');
  const postsContainer = $('#postsContainer');
  const resultsHeader = $('#resultsHeader');
  const searchInput = $('#globalSearch');
  const searchBtn = $('#searchBtn');

  // read all posts
  function getAllPosts() {
    return $$('.post').map(post => {
      const titleEl = post.querySelector('.styled-h2');
      const title = titleEl ? titleEl.textContent.trim() : '';
      const descEl = post.querySelector('.red-box');
      const desc = descEl ? descEl.textContent.trim() : '';
      // tags: from data-tags attribute (comma-separated) OR from .post-tag elements
      let raw = post.dataset.tags || '';
      if(!raw) {
        const tagEls = post.querySelectorAll('.post-tag');
        raw = Array.from(tagEls).map(t=>t.dataset.tag).join(',');
      }
      const tags = raw.split(',').map(t=>t.trim()).filter(Boolean).map(t => t.toLowerCase());
      return { el: post, title, desc, tags };
    });
  }

  // build tag index (unique tags with counts)
  function buildTagIndex() {
    const posts = getAllPosts();
    const tagCounts = {};
    posts.forEach(p => {
      p.tags.forEach(t => {
        if(!t) return;
        tagCounts[t] = (tagCounts[t] || 0) + 1;
      });
    });

    // sort tags by count descending then name
    const tagList = Object.keys(tagCounts).sort((a,b) => {
      if(tagCounts[b] !== tagCounts[a]) return tagCounts[b] - tagCounts[a];
      return a.localeCompare(b);
    });

    // render tag bar
    tagBar.innerHTML = '';

    // "Show All" button
    const allBtn = document.createElement('a');
    allBtn.className = 'tag-box small';
    allBtn.href = '#/all';
    allBtn.textContent = 'Show All';
    tagBar.appendChild(allBtn);

    tagList.forEach(tag => {
      const a = document.createElement('a');
      a.className = 'tag-box';
      a.href = '#/tag/' + encodeURIComponent(tag);
      a.dataset.tag = tag;
      a.title = ${tag} (${tagCounts[tag]});
      a.innerHTML = ${tag} <span style="opacity:.8; font-size:12px; margin-left:8px;">(${tagCounts[tag]})</span>;
      tagBar.appendChild(a);
    });

    // add a small quick "clear" info
    const info = document.createElement('div');
    info.style.marginLeft = '8px';
    info.style.fontSize = '13px';
    info.style.color = '#666';
    info.textContent = ' (Click a tag to filter posts)';
    tagBar.appendChild(info);
  }

  // render posts based on filter type
  // mode: { type: 'all' } | { type:'tag', tag:'reels' } | { type:'search', q:'term' }
  function renderPosts(mode) {
    const posts = getAllPosts();
    resultsHeader.style.display = 'none';
    // first hide all
    posts.forEach(p => p.el.style.display = 'none');

    let matched = [];
    if(mode.type === 'all') {
      matched = posts;
      resultsHeader.style.display = 'none';
    } else if(mode.type === 'tag') {
      const tag = mode.tag.toLowerCase();
      matched = posts.filter(p => p.tags.includes(tag));
      resultsHeader.style.display = '';
      resultsHeader.textContent = Showing results for tag: "${tag}" (${matched.length}) ‚Äî click "Show All" to clear.;
    } else if(mode.type === 'search') {
      const q = mode.q.toLowerCase();
      matched = posts.filter(p => {
        return p.title.toLowerCase().includes(q) ||
               p.desc.toLowerCase().includes(q) ||
               p.tags.join(' ').includes(q);
      });
      resultsHeader.style.display = '';
      resultsHeader.textContent = Search results for "${mode.q}" (${matched.length}) ‚Äî click "Show All" to clear.;
    }

    // show matched
    matched.forEach(p => { p.el.style.display = ''; });

    // scroll to top of posts container for better UX
    postsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }

  // parse hash and render accordingly
  function handleHash() {
    const hash = location.hash || '#/all';
    // patterns: #/tag/<tag>  or #/search?q=term  or #/all
    if(hash.startsWith('#/tag/')) {
      const tag = decodeURIComponent(hash.substring(6));
      renderPosts({ type:'tag', tag });
    } else if(hash.startsWith('#/search')) {
      // parse queryparam q
      const q = (new URLSearchParams(hash.split('?')[1] || '')).get('q') || '';
      renderPosts({ type:'search', q });
      // set search input
      searchInput.value = q;
    } else {
      renderPosts({ type:'all' });
      searchInput.value = '';
    }
    highlightActiveTag();
  }

  // highlight active tag in tagBar
  function highlightActiveTag() {
    const hash = location.hash || '#/all';
    const tagBoxes = Array.from(tagBar.querySelectorAll('.tag-box'));
    tagBoxes.forEach(tb => tb.classList.remove('active'));
    if(hash.startsWith('#/tag/')) {
      const cur = decodeURIComponent(hash.substring(6));
      const el = tagBar.querySelector(.tag-box[data-tag="${cur}"]);
      if(el) el.style.outline = '3px solid rgba(229,57,53,0.12)';
    } else {
      const allBtn = tagBar.querySelector('.tag-box');
      if(allBtn) allBtn.style.outline = '3px solid rgba(0,0,0,0.06)';
    }
  }

  // initialize behavior: build tags, attach events, attach post-tag click handlers
  function init() {
    buildTagIndex();
    handleHash();

    // attach click for post-tag elements (inside posts)
    $$('.post-tag').forEach(pt => {
      pt.addEventListener('click', function(e){
        e.preventDefault();
        const tag = this.dataset.tag;
        location.hash = '#/tag/' + encodeURIComponent(tag);
      });
    });

    // attach general click handling for dynamically created tag boxes (delegation)
    tagBar.addEventListener('click', function(e){
      const a = e.target.closest('a.tag-box');
      if(a) {
        // allow default hash navigation by setting location.hash will call handleHash via 'hashchange'
        // no need to preventDefault
        // small UX: remove focus
        setTimeout(()=> a.blur?.(), 200);
      }
    });

    // search button
    searchBtn.addEventListener('click', function(){
      const q = searchInput.value.trim();
      location.hash = '#/search?q=' + encodeURIComponent(q);
    });

    // search on enter
    searchInput.addEventListener('keydown', function(e){
      if(e.key === 'Enter') {
        e.preventDefault();
        searchBtn.click();
      }
    });

    // hash change listener
    window.addEventListener('hashchange', handleHash);

    // Rebuild tag index if posts change dynamically (optional)
    // Example: if you add posts via AJAX, call buildTagIndex() again.
  }

  // run
  document.addEventListener('DOMContentLoaded', init);
})();
</script>
</body>
</html>