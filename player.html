<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Player - demo</title>

<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon.png">
<link rel="stylesheet" href="assets/css/global.css">
<link rel="stylesheet" href="assets/css/header.css">
<link rel="stylesheet" href="assets/css/footer.css">
<link rel="stylesheet" href="assets/css/home.css">
<link rel="stylesheet" href="assets/css/menu.css">

<style>
.player-hero { max-width:900px; margin:18px auto; background:#111; border-radius:8px; padding:12px; color:#fff;}
.player-thumb { position:relative; border-radius:6px; overflow:hidden; border:1px solid red; aspect-ratio:16/9;}
.player-thumb img,
.player-thumb iframe {width:100%; height:100%; display:block; border:0;}
.player-play-btn {position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:80px; height:80px; background:rgba(255,255,255,0.12); border-radius:50%; display:grid; place-items:center; cursor:pointer; backdrop-filter:blur(3px);}
.player-play-btn::after {content:""; border-left:26px solid white; border-top:16px solid transparent; border-bottom:16px solid transparent; transform:translateX(6px);}
.buffering-overlay {position:absolute; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,0.6); color:#fff; flex-direction:column; z-index:9;}
.spinner {width:48px; height:48px; border-radius:50%; border:4px solid rgba(255,255,255,0.15); border-top-color:white; animation:spin 1s linear infinite;}
@keyframes spin{to{transform:rotate(360deg);}}
</style>
</head>

<body class="home-page">

<header>
<img src="assets/img/logo.png" class="logo">
</header>

<main>

<div class="player-hero">
<h2 id="videoTitle" class="styled-h2">Loading...</h2>

<div class="player-thumb" id="playerThumb">
  <img id="thumbImg" src="assets/img/deshi1.jpg">
  <div class="player-play-btn" id="playBtn"></div>
</div>

<p id="videoDesc" class="red-box" style="margin-top:12px;"></p>
<div id="videoTags" class="extra-paragraph"></div>
</div>

</main>

<script>
/* helpers */
function qp(n,d){ return new URLSearchParams(location.search).get(n)||d; }

/* load text content */
document.getElementById('videoTitle').textContent = qp('title','Untitled');
document.getElementById('thumbImg').src = qp('img','assets/img/deshi1.jpg');
document.getElementById('videoDesc').textContent = qp('desc','');

/* tags */
const tags = qp('tags','');
if(tags){
  tags.split(',').forEach(t=>{
    const a=document.createElement('a');
    a.className='hashtag';
    a.href='tag.html?tag='+t.trim();
    a.textContent='#'+t.trim();
    document.getElementById('videoTags').appendChild(a);
  });
}

/* ðŸ”¥ MAIN PLAY LOGIC (DYNAMIC VIDEO) */
const videoId = qp('video','');
const playBtn = document.getElementById('playBtn');
const playerThumb = document.getElementById('playerThumb');

playBtn.onclick = () => {
  if(!videoId) return;

  const overlay = document.createElement('div');
  overlay.className='buffering-overlay';
  overlay.innerHTML='<div class="spinner"></div><div>Buffering...</div>';
  playerThumb.appendChild(overlay);

  setTimeout(()=>{
    overlay.remove();
    playBtn.remove();
    playerThumb.innerHTML = `
      <iframe
        src="https://www.xv-videos1.com/embedframe/${videoId}"
        allow="autoplay; fullscreen"
        allowfullscreen
        scrolling="no">
      </iframe>
    `;
  },1500);
};
</script>

</body>
</html>