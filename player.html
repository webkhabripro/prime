<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Player - demo</title>

   <!-- Favicon & CSS -->
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon.png">
  <link rel="stylesheet" href="assets/css/global.css">
  <link rel="stylesheet" href="assets/css/header.css">
  <link rel="stylesheet" href="assets/css/footer.css">
  <link rel="stylesheet" href="assets/css/home.css">
  <link rel="stylesheet" href="assets/css/menu.css">
  <script src="assets/js/menu.js"></script>


  <style>
    /* Player Hero */
    .player-hero {
      max-width: 900px;
      margin: 18px auto;
      background: #111;
      border-radius: 8px;
      padding: 12px;
      color: #fff;
    }
    .player-thumb {
      position: relative;
      border-radius: 6px;
      overflow: hidden;
      border: 1px solid red;
    }
    .player-thumb img {
      width: 100%;
      display: block;
    }

    .player-play-btn {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80px;
      height: 80px;
      background: rgba(255,255,255,0.12);
      border-radius: 50%;
      display: grid;
      place-items: center;
      cursor: pointer;
      backdrop-filter: blur(3px);
    }
    .player-play-btn::after {
      content: "";
      width: 0; height: 0;
      border-left: 26px solid white;
      border-top: 16px solid transparent;
      border-bottom: 16px solid transparent;
      transform: translateX(6px);
    }

    .buffering-overlay {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.6);
      color: #fff;
      flex-direction: column;
    }
    .spinner {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      border: 4px solid rgba(255,255,255,0.15);
      border-top-color: white;
      animation: spin 1s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* Related Section */
    .related-section {
      background: #000;
      padding: 12px;
      margin-top: 16px;
      border-radius: 6px;
      color: #fff;
    }
    .related-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-top: 12px;
    }

    /* ---- FIXED RELATED ITEM LAYOUT ---- */
    .related-item {
      background: rgba(255,255,255,0.04);
      border-radius: 6px;
      overflow: hidden;
      cursor: pointer;
      padding: 0;
    }
    .related-item img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      display: block;
    }
    .related-item .r-title {
      font-size: 13px;
      color: #fff;
      padding: 6px 6px 10px;
      text-align: center;
    }

    /* Footer fix: full width */
    nav.bottom-nav {
      width: 100% !important;
      left: 0 !important;
      transform: none !important;
    }
  </style>
</head>

<body class="home-page">

<!-- FIXED: Side Menu added -->
<div id="sideMenu" class="side-menu">
  <a href="/">üè† Home</a>
  <a href="/deshi-sex-video.html">üî• Deshi Video</a>
  <a href="/bhabhi.html">üíÉ Bhabhi Video</a>
  <a href="/school.html">üìö School Girl</a>
  <a href="/reels.html">‚ñ∂ Reels</a>
  <a href="/indian-video.html">üáÆüá≥ Indian Video</a>
  <a href="/desi-girl-reels.html">üíÉ Desi Girl Reels</a>
</div>

<!-- HEADER -->
<header>
  <img src="assets/img/logo.png" class="logo" alt="Site Logo">
  <div class="menu-icon" onclick="toggleMenu()">
    <span></span><span></span><span></span>
  </div>
</header>

<main>
  <div class="player-hero" id="playerHero">
    <h2 id="videoTitle" class="styled-h2">Loading...</h2>

    <div class="player-thumb" id="playerThumb">
      <img id="thumbImg" src="assets/img/deshi1.jpg">
      <div class="player-play-btn" id="playBtn"></div>
    </div>

    <p id="videoDesc" class="red-box" style="margin-top:12px;"></p>
  </div>

  <div class="related-section">
    <h2 class="styled-h2" style="background:#000;color:#fff;">Related Posts</h2>
    <div class="related-grid" id="relatedGrid"></div>
  </div>
</main>

<!-- FOOTER -->
<nav class="bottom-nav">
  <button onclick="window.location.href='/'"><img src="assets/icons/home.png"><span>Home</span></button>
  <button><img src="assets/icons/search.png"><span>Search</span></button>
  <button><img src="assets/icons/saved.png"><span>Saved</span></button>
  <button><img src="assets/icons/login.png"><span>Login</span></button>
  <button onclick="window.location.href='/reels'"><img src="assets/icons/video.png"><span>Reels</span></button>
</nav>

<script>
  function qp(n,val){ const u=new URL(location.href); return u.searchParams.get(n)||val; }

  const POSTS = [
    {img:'assets/img/deshi1.jpg', title:'Trending Reels Collection'},
    {img:'assets/img/deshi2.jpg', title:'Latest Entertainment Clips'},
    {img:'assets/img/deshi3.jpg', title:'Viral Indian Reels'},
    {img:'assets/img/deshi4.jpg', title:'Desi Girl Reels'},
    {img:'assets/img/deshi5.jpg', title:'Video HD'}
  ];

  function shuffle(a){ return a.map(v=>({v,r:Math.random()})).sort((a,b)=>a.r-b.r).map(x=>x.v); }

  /* Load main */
  document.getElementById('videoTitle').textContent = qp('title','Untitled');
  document.getElementById('thumbImg').src = qp('img','assets/img/deshi1.jpg');
  document.getElementById('videoDesc').textContent = qp('desc','Catch the hottest viral reels trending right now ‚Äî updated daily.');

  /* Play logic */
  const playBtn = document.getElementById('playBtn');
  const playerThumb = document.getElementById('playerThumb');
  let isPlaying = false;

  playBtn.onclick = ()=>{
    if(isPlaying) return;

    const overlay = document.createElement('div');
    overlay.className = 'buffering-overlay';
    overlay.innerHTML = '<div class="spinner"></div><div>Buffering...</div>';
    playerThumb.appendChild(overlay);

    setTimeout(()=>{
      overlay.remove();
      playBtn.style.display = 'none';

      const v = document.createElement('div');
      v.style.padding = '60px 20px';
      v.style.textAlign = 'center';
      v.style.color = '#fff';
      v.textContent = 'Playing ‚Äî simulated video';
      playerThumb.appendChild(v);

      isPlaying = true;
    },1800);
  };

  /* Related */
  const grid = document.getElementById('relatedGrid');
  shuffle(POSTS).slice(0,6).forEach(p=>{
    const item = document.createElement('div');
    item.className='related-item';
    item.innerHTML = `
      <img src="${p.img}">
      <div class="r-title">${p.title}</div>
    `;
    item.onclick = ()=>{
      const q = new URLSearchParams({
        img:p.img,
        title:p.title,
        desc:'Catch the hottest viral reels trending right now ‚Äî updated daily.'
      });
      location.href='player.html?'+q.toString();
    };
    grid.appendChild(item);
  });

  /* Menu */
  function toggleMenu(){
    document.getElementById('sideMenu').classList.toggle('active');
  }
  window.toggleMenu = toggleMenu;
</script>

</body>
</html>
